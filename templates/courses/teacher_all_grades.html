{% extends 'base.html' %}

{% block title %}All Grades{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-6 text-center">All Student Grades Overview</h1>

    <div class="max-w-4xl mx-auto bg-white p-6 rounded-lg shadow-md">
        {% if grades_by_student %}
            {% for student, grades in grades_by_student.items %}
                <h2 class="text-xl font-semibold text-gray-800 mb-4 mt-4">Student: {{ student.name }}</h2>

                {% if grades.assignment_grades %}
                    <h3 class="text-lg font-semibold text-gray-700 mb-2">Assignment Grades:</h3>
                    <ul class="divide-y divide-gray-200 mb-4">
                        {% for assignment_grade in grades.assignment_grades %}
                            <li class="py-2 flex justify-between items-center text-gray-700 text-sm">
                                <span>{{ assignment_grade.assignment.title }} ({{ assignment_grade.assignment.course.name }}):</span>
                                <span class="font-semibold">{{ assignment_grade.grade }}</span>
                            </li>
                        {% endfor %}
                    </ul>
                {% endif %}

                {% if grades.exam_grades %}
                    <h3 class="text-lg font-semibold text-gray-700 mb-2">Exam Grades:</h3>
                    <ul class="divide-y divide-gray-200 mb-4">
                        {% for exam_grade in grades.exam_grades %}
                            <li class="py-2 flex justify-between items-center text-gray-700 text-sm">
                                <span>{{ exam_grade.exam.title }} ({{ exam_grade.exam.course.name }}):</span>
                                <span class="font-semibold">{{ exam_grade.grade }}</span>
                            </li>
                        {% endfor %}
                    </ul>
                {% endif %}

                {% if not grades.assignment_grades and not grades.exam_grades %}
                     <p class="text-gray-700 text-sm">No grades recorded for this student yet.</p>
                {% endif %}

            {% endfor %}
        {% endif %}
    </div>

    {# Static Data for All Grades #}
    <div class="max-w-4xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-lg border border-gray-200 text-gray-800">
        <h2 class="text-xl font-semibold mb-4 text-blue-700">Student Grades</h2>
        
        <h3 class="text-lg font-semibold text-gray-800 mb-4">Student: Alice Smith</h3>
        <h4 class="text-md font-semibold text-gray-700 mb-2">Assignment Grades:</h4>
        <ul class="divide-y divide-gray-300 mb-4">
            <li class="py-2 flex justify-between items-center text-gray-700 text-sm">
                <span>Homework 1 (Introduction to Computer Science):</span>
                <span class="font-semibold">85/100</span>
            </li>
            <li class="py-2 flex justify-between items-center text-gray-700 text-sm">
                <span>Midterm Project (Data Structures and Algorithms):</span>
                <span class="font-semibold">Not Graded Yet</span>
            </li>
        </ul>
        <h4 class="text-md font-semibold text-gray-700 mb-2">Exam Grades:</h4>
         <ul class="divide-y divide-gray-300 mb-4">
            <li class="py-2 flex justify-between items-center text-gray-700 text-sm">
                <span>Midterm Exam (Introduction to Computer Science):</span>
                <span class="font-semibold">92%</span>
            </li>
        </ul>

         <h3 class="text-lg font-semibold text-gray-800 mb-4 mt-4">Student: Bob Johnson</h3>
        <h4 class="text-md font-semibold text-gray-700 mb-2">Assignment Grades:</h4>
        <ul class="divide-y divide-gray-300 mb-4">
             <li class="py-2 flex justify-between items-center text-gray-700 text-sm">
                <span>Homework 1 (Introduction to Computer Science):</span>
                <span class="font-semibold">78/100</span>
            </li>
        </ul>
        <h4 class="text-md font-semibold text-gray-700 mb-2">Exam Grades:</h4>
         <ul class="divide-y divide-gray-300 mb-4">
            <li class="py-2 flex justify-between items-center text-gray-700 text-sm">
                <span>Midterm Exam (Introduction to Computer Science):</span>
                <span class="font-semibold">88%</span>
            </li>
        </ul>
    </div>

</div>
{% endblock %} 